# ATP Infrastructure as Code Project

<div align="center">
  <img src="docs/Logo ATP.png" alt="ATP Logo" width="800"/>
  
  **Association of Tennis Professionals - Global Infrastructure Automation**
  
  *Advanced Infrastructure as Code solution for ATP's worldwide operations*

[![Proxmox VE](https://img.shields.io/badge/Proxmox%20VE-8.3.0-orange.svg)](https://www.proxmox.com/)
[![Packer](https://img.shields.io/badge/Packer-1.13+-blue.svg)](https://www.packer.io/)
[![Terraform](https://img.shields.io/badge/Terraform-1.1+-purple.svg)](https://www.terraform.io/)
[![Ansible](https://img.shields.io/badge/Ansible-2.1+-red.svg)](https://www.ansible.com/)
[![License](https://img.shields.io/badge/MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Active-success.svg)]()
[![Contributors](https://img.shields.io/badge/Contributors-4-brightgreen.svg)]()
[![Documentation](https://img.shields.io/badge/docs-available-brightgreen.svg)]()
[![Status](https://img.shields.io/badge/Status-Development-blue.svg)]()
</div>

---
## üåç Project Overview

This repository contains the complete Infrastructure as Code (IaC) solution for the **Association of Tennis Professionals (ATP)**, designed to modernize and centralize their global IT infrastructure simulation across four major sites: London (Headquarters), Florida (ATP Americas), Monaco (ATP Europe), and Sydney (ATP International).

> **üéì Academic Project**: This project is developed as part of the **EPSI MSPR TPRE815** course within the **Mast√®re Expert Informatique et Syst√®me d'Information** program, demonstrating advanced skills in Infrastructure Architecture, Virtualization Technologies, Infrastructure as Code, Network Security, and Cloud Technologies.

> **üîó Project Constraint**: This infrastructure is implemented using a **single Proxmox VE hypervisor** that hosts all virtual machines to simulate the multi-site ATP environment. Everything is virtualized to demonstrate enterprise-level infrastructure capabilities within a controlled lab environment.

### üéØ Project Objectives

- **Simulate** and centralize heterogeneous IT systems across ATP's global locations
- **Virtualize** complete infrastructure using a single Proxmox VE hypervisor
- **Automate** virtual machine provisioning with Packer templates
- **Orchestrate** infrastructure deployment with Terraform modules
- **Demonstrate** enterprise-level networking and security concepts
- **Prepare** foundation for future cloud migration scenarios
- **Implement** Business Continuity (BCP) and Disaster Recovery (DRP) simulation

## üèóÔ∏è Infrastructure Architecture

<div align="center">
  <img src="docs/Schema Infrastructure ATP.png" alt="ATP Infrastructure Schema" width="800"/>
</div>

### üåê Network Topology

The infrastructure simulates multiple geographical locations with interconnected VPN tunnels, all hosted on a **single Proxmox VE hypervisor**:

- **London Headquarters** (172.23.0.0/16) - Primary datacenter and management hub
- **Ponte Vedra Beach** (172.26.0.0/16) - ATP Americas operations
- **Sydney** (172.29.0.0/16) - ATP International Pacific operations  
- **Monaco** (172.24.0.0/16) - ATP Europe operations
- **Cloud Datacenter** (10.1.0.0/16) - Hybrid cloud integration point

## üõ†Ô∏è Technology Stack

### Core Infrastructure
- **Hypervisor**: Single Proxmox VE 8.3.0 instance hosting all virtual machines
- **Image Building**: HashiCorp Packer for automated VM template creation
- **Infrastructure Orchestration**: Terraform for infrastructure provisioning
- **Configuration Management**: Ansible for post-deployment configuration
- **Operating Systems**: Debian 12, Windows Server 2022
- **Network Simulation**: VLANs and virtual networks to simulate multi-site topology

### Automation Tools
- **Packer**: Automated VM template creation
- **Terraform**: Infrastructure provisioning and lifecycle management
- **Ansible**: Post-deployment configuration and maintenance
- **Cloud-Init/Cloudbase-Init**: VM initialization and cloud readiness

## üìÅ Project Structure

```
iac-atp-infra/
‚îú‚îÄ‚îÄ üìÑ README.MD                    # Project documentation
‚îú‚îÄ‚îÄ üìÑ LICENSE                      # Project license
‚îú‚îÄ‚îÄ üìÇ docs/                        # Project documentation
‚îÇ   ‚îú‚îÄ‚îÄ üñºÔ∏è Logo ATP.png             # ATP official logo
‚îÇ   ‚îú‚îÄ‚îÄ üñºÔ∏è Schema Infrastructure ATP.png # Network topology diagram
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ EISI - Sujet MSPR TPRE815.pdf # Project specifications
‚îú‚îÄ‚îÄ üìÇ packer/                      # VM template automation
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ config.pkr.hcl           # Global Packer configuration
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ README.MD                # Packer documentation
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ linux/                   # Linux template configurations
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ debian12/            # Debian 12 template
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ build.pkr.hcl    # Debian build configuration
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ debian-12.pkrvars.hcl # Debian variables
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ üìÇ http/            # Automated installation configs
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ windows/                 # Windows template configurations
‚îÇ       ‚îî‚îÄ‚îÄ üìÇ win2022-x64-fr/      # Windows Server 2022 template
‚îÇ           ‚îú‚îÄ‚îÄ üìÑ build.pkr.hcl    # Windows build configuration
‚îÇ           ‚îú‚îÄ‚îÄ üìÑ windows-server22.pkrvars.hcl # Windows variables
‚îÇ           ‚îî‚îÄ‚îÄ üìÇ provision/       # Provisioning scripts and configs
‚îÇ               ‚îú‚îÄ‚îÄ üìÇ answer_files/ # Automated installation answers
‚îÇ               ‚îú‚îÄ‚îÄ üìÇ scripts/     # PowerShell provisioning scripts
‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Setup.ps1 # Main orchestration script
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ modules/ # Modular provisioning components
‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ Install-Notepad.ps1
‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ Install-CloudbaseInit.ps1
‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ Configure-Network.ps1
‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ Configure-RemoteDesktop.ps1
‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ Reset-AutoLogon.ps1
‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ üìÑ Cleanup-Apps.ps1
‚îÇ               ‚îÇ       ‚îî‚îÄ‚îÄ üìÑ Run-Sysprep.ps1
‚îÇ               ‚îî‚îÄ‚îÄ üìÇ tools/       # Configuration files
‚îú‚îÄ‚îÄ üìÇ terraform/                   # Infrastructure orchestration
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ main.tf                  # Main Terraform configuration
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ providers.tf             # Provider configurations
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ outputs.tf               # Infrastructure outputs
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ credential.auto.tfvars   # Credentials (not in VCS)
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ modules/                 # Reusable Terraform modules
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ networks/            # Network infrastructure module
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ vm_debian/           # Debian VM deployment module
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ vm_windows_server/   # Windows Server deployment module
‚îÇ       ‚îî‚îÄ‚îÄ üìÇ lxc_debian/          # Debian LXC container module
‚îî‚îÄ‚îÄ üìÇ ansible/                     # Configuration management
    ‚îú‚îÄ‚îÄ üìÑ inventory.ini             # Ansible inventory
    ‚îî‚îÄ‚îÄ üìÑ README.MD                 # Ansible documentation
```

## üöÄ Getting Started

### Prerequisites

| Component | Version | Purpose |
|-----------|---------|---------|
| **Proxmox VE** | ‚â• 8.0 | Single hypervisor hosting all virtual infrastructure |
| **Packer** | ‚â• 1.4.0 | VM template automation |
| **Terraform** | ‚â• 1.0.0 | Infrastructure orchestration |
| **Ansible** | ‚â• 2.9 | Configuration management |
| **xorriso** | latest | ISO manipulation (Linux) |

> **Important**: This project is designed to run on a **single Proxmox VE hypervisor** that simulates the entire multi-site ATP infrastructure through virtualization.

### Proxmox VE Setup

1. **Create Packer Role**
```bash
sudo -i
pveum role add Packer -privs "Datastore.Allocate Datastore.AllocateSpace Datastore.Audit Pool.Allocate Sys.Audit Sys.Console Sys.Modify VM.Allocate VM.Audit VM.Clone VM.Config.CDROM VM.Config.Cloudinit VM.Config.CPU VM.Config.Disk VM.Config.HWType VM.Config.Memory VM.Config.Network VM.Config.Options VM.Console VM.Migrate VM.Monitor VM.PowerMgmt SDN.Use"
```

2. **Create Packer User**
```bash
pveum user add packer@pve --password <secure-password>
pveum aclmod / -user packer@pve -role Packer
```

3. **Additional Windows Permissions**
```bash
pveum aclmod /storage/local -user packer@pve -role PVEDatastoreAdmin
```

## üè≠ Building VM Templates

### Debian 12 Template
```bash
cd packer/
packer build -var-file=linux/debian12/debian-12.pkrvars.hcl linux/debian12/build.pkr.hcl
```

### Windows Server 2022 Template
```bash
cd packer/
packer build -var-file=windows/win2022-x64-fr/windows-server22.pkrvars.hcl windows/win2022-x64-fr/build.pkr.hcl
```

## üåê Infrastructure Deployment

### Initialize Terraform
```bash
cd terraform/
terraform init
terraform plan
terraform apply
```

## üîß Technical Features

### üñ•Ô∏è VM Template Automation
- **Unattended Installation**: Automated OS installation with preseed/autounattend
- **Cloud-Init Ready**: Templates prepared for cloud-native deployments
- **Modular Architecture**: Organized provisioning scripts for maintainability
- **Automated Downloads**: Dynamic software installation from official sources
- **Multi-OS Support**: Both Linux (Debian 12) and Windows Server 2022

### üèóÔ∏è Infrastructure Components

#### Network Infrastructure
- **Simulated Multi-site VPN**: IPsec tunnels between ATP virtual locations
- **VLAN Segmentation**: Isolated network zones for security and site separation
- **Virtual Firewall Integration**: Software-based firewalls for each simulated site
- **Centralized DNS/DHCP Services**: Network services management
- **SDN (Software-Defined Networking)**: Advanced Proxmox networking features

#### Compute Resources
- **Standardized VM Templates**: Cloud-ready virtual machines for consistent deployment
- **LXC Containers**: Lightweight containerized workloads for specific services
- **Resource Optimization**: Efficient allocation within single hypervisor constraints
- **Simulated High Availability**: Redundant services across virtual sites
- **Performance Monitoring**: Resource utilization tracking and optimization

#### Storage Solutions
- **Shared Storage**: Centralized file services
- **Data Replication**: Regular backups to London headquarters
- **Cloud Integration**: Hybrid cloud storage preparation

### üîí Security Implementation
- **Network Segmentation**: Isolated VLANs and subnets
- **VPN Encryption**: Secure site-to-site communications
- **Access Control**: Role-based access management
- **Audit Logging**: Comprehensive security monitoring


## üë• Team and Contacts

- [Thomas GARCIA](https://github.com/Keods30)
- [Thibaut MAURRAS](https://github.com/Foufou-exe)
- [Jonathan DELLA SANTINA](https://github.com/JonathanDS30)
- [Joyce Leaticia LAETITIA](https://github.com/JoyceLeaticia)

This project is developed as part of the EPSI MSPR TPRE815 course, demonstrating advanced skills in Infrastructure Architecture, Virtualization Technologies, Infrastructure as Code, Network Security, and Cloud Technologies.

## üìö Documentation

For detailed technical documentation, please refer to:
- **[Packer Documentation](packer/README.MD)** - VM template automation
- **[Terraform Modules](terraform/modules/)** - Infrastructure orchestration


## ü§ù Contributing

This project follows professional development practices:

1. **Code Review**: All changes reviewed before integration
2. **Documentation**: Comprehensive documentation for all components
3. **Testing**: Validation in development environments
4. **Standards**: Adherence to industry best practices

## üìÑ License

This project is developed for educational purposes as part of the EPSI.

---

<div align="center">
  <strong>ATP Infrastructure as Code Project</strong><br>
  <em>Professional Infrastructure Automation for Global Tennis Operations</em><br><br>

  <img src="docs/Logo EPSI.png" alt="ATP Logo" width="200"/>
  
  **EPSI - √âcole Priv√©e des Sciences Informatiques**<br>
  MSPR TPRE815
</div>
